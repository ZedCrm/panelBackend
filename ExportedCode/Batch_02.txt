===== FILE: App\Object\Base\Users\UsersApp.cs =====
// App\Object\Base\Users\UsersApp.cs
using App.Contracts.Object.Base.Users;
using App.utility;
using AutoMapper;
using Domain.Objects.Base;
using MyFrameWork.AppTool;

namespace App.Object.Base.Users
{
    public class UsersApp : IUsersApp
    {
        private readonly IMyUserRepository _userRepository;
        private readonly IMapper _mapper;
        private readonly IFileService _fileService;
        private readonly UserStatusService _statusService;
        private readonly IRoleRep _roleRep;

        public UsersApp(
            IMyUserRepository userRepository,
            IMapper mapper,
            IFileService fileService,
            UserStatusService statusService,
            IRoleRep roleRep)
        {
            _userRepository = userRepository;
            _mapper = mapper;
            _fileService = fileService;
            _statusService = statusService;
            _roleRep = roleRep;
        }

        #region Create
        public async Task<ApiResult> Create(UsersCreat objectCreate)
        {
            // ÙÙ‚Ø· Business Rules: ÛŒÙˆÙ†ÛŒÚ© Ø¨ÙˆØ¯Ù† Ø§ÛŒÙ…ÛŒÙ„ Ùˆ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ
            if (await _userRepository.ExistAsync(u => u.Email == objectCreate.Email))
                return ApiResult.Failed("Ø§ÛŒÙ…ÛŒÙ„ Ù‚Ø¨Ù„Ø§Ù‹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø§Ø³Øª.", 400);

            if (await _userRepository.ExistAsync(u => u.Username == objectCreate.Username))
                return ApiResult.Failed("Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù‚Ø¨Ù„Ø§Ù‹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø§Ø³Øª.", 400);

            var user = _mapper.Map<User>(objectCreate);
            user.PasswordHash = BCrypt.Net.BCrypt.HashPassword(objectCreate.Password);
            user.UserRoles = objectCreate.RoleIds.Select(rid => new UserRole { RoleId = rid }).ToList();

            if (objectCreate.ProfilePicture != null)
            {
                try
                {
                    user.ProfilePictureUrl = await _fileService.UploadProfilePictureAsync(objectCreate.ProfilePicture);
                }
                catch (Exception ex)
                {
                    return ApiResult.Failed($"Ø®Ø·Ø§ Ø¯Ø± Ø¢Ù¾Ù„ÙˆØ¯ ØªØµÙˆÛŒØ±: {ex.Message}", 400);
                }
            }

            await _userRepository.CreateAsync(user);
            await _userRepository.SaveChangesAsync();

            _statusService.UpdateStatus(user.Id, UserStatus.Offline);

            return ApiResult.Success(message: $"Ú©Ø§Ø±Ø¨Ø± {objectCreate.FullName} Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯.");
        }
        #endregion

        #region Update
        public async Task<ApiResult> Update(UsersUpdate objectView)
        {
            // Business Rule: ÛŒÙˆÙ†ÛŒÚ© Ø¨ÙˆØ¯Ù† (Ø¨Ù‡ Ø¬Ø² Ø®ÙˆØ¯Ø´)
            if (await _userRepository.ExistAsync(u => u.Email == objectView.Email && u.Id != objectView.Id))
                return ApiResult.Failed("Ø§ÛŒÙ…ÛŒÙ„ Ù‚Ø¨Ù„Ø§Ù‹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø§Ø³Øª.", 400);

            if (await _userRepository.ExistAsync(u => u.Username == objectView.Username && u.Id != objectView.Id))
                return ApiResult.Failed("Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù‚Ø¨Ù„Ø§Ù‹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø§Ø³Øª.", 400);

            var user = await _userRepository.GetAsync(objectView.Id);
            if (user == null)
                return ApiResult.Failed(MessageApp.NotFound, 404);

            user.Username = objectView.Username;
            user.Email = objectView.Email;
            user.FullName = objectView.FullName;

            if (!string.IsNullOrEmpty(objectView.Password))
                user.PasswordHash = BCrypt.Net.BCrypt.HashPassword(objectView.Password);

            user.UserRoles = objectView.RoleIds.Select(rid => new UserRole { RoleId = rid, UserId = objectView.Id }).ToList();

            if (objectView.ProfilePicture != null)
            {
                try
                {
                    user.ProfilePictureUrl = await _fileService.UploadProfilePictureAsync(
                        objectView.ProfilePicture,
                        user.ProfilePictureUrl
                    );
                }
                catch (Exception ex)
                {
                    return ApiResult.Failed($"Ø®Ø·Ø§ Ø¯Ø± Ø¢Ù¾Ù„ÙˆØ¯ ØªØµÙˆÛŒØ±: {ex.Message}", 400);
                }
            }

            await _userRepository.UpdateAsync(user);
            await _userRepository.SaveChangesAsync();

            return ApiResult.Success(message: "Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯.");
        }
        #endregion

        #region GetAll
        public async Task<ApiResult> GetAll(Pagination pagination)
        {
            var users = await _userRepository.GetAsync(pagination);
            var viewModels = _mapper.Map<List<UsersView>>(users);
            var totalRecords = await _userRepository.CountAsync();

            foreach (var view in viewModels)
            {
                var (status, lastSeen) = _statusService.GetStatus(view.Id);
                view.Status = status;
                view.LastSeen = lastSeen;
            }

            return ApiResult.PagedSuccess(
                data: viewModels,
                totalRecords: totalRecords,
                pageNumber: pagination.PageNumber,
                pageSize: pagination.PageSize
            );
        }
        #endregion

        #region GetById
        public async Task<ApiResult> GetById(int id)
        {
            var user = await _userRepository.GetAsync(id);
            if (user == null)
                return ApiResult.Failed(MessageApp.NotFound, 404);

            var updateDto = _mapper.Map<UsersUpdate>(user);
            return ApiResult.Success(data: updateDto);
        }
        #endregion

        #region DeleteBy
        public async Task<ApiResult> DeleteBy(List<int> objectIds)
        {
            if (objectIds == null || !objectIds.Any())
                return ApiResult.Failed("Ù‡ÛŒÚ† Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª.", 400);

            try
            {
                foreach (var id in objectIds)
                {
                    _userRepository.DeleteById(id);
                    _statusService.UpdateStatus(id, UserStatus.Offline);
                }
                await _userRepository.SaveChangesAsync();
                return ApiResult.Success(message: "Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯Ù†Ø¯.");
            }
            catch (Exception ex)
            {
                return ApiResult.Failed($"Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù: {ex.Message}", 500);
            }
        }
        #endregion

        #region CreateForm
        public async Task<ApiResult> CreateForm()
        {
            var roles = await _roleRep.GetAsync();
            var formData = new UserCreateFormData
            {
                Roles = roles.Select(r => new RoleView { Id = r.Id, Name = r.Name }).ToList()
            };

            return ApiResult.Success(data: formData);
        }
        #endregion

        #region KeepAlive
        public async Task<ApiResult> KeepAlive(int userId)
        {
            _statusService.UpdateStatus(userId, UserStatus.Online, DateTime.Now);
            return ApiResult.Success(message: "ÙˆØ¶Ø¹ÛŒØª Ø¢Ù†Ù„Ø§ÛŒÙ† Ø´Ø¯.");
        }
        #endregion
    }



    public interface IMyUserRepository : IBaseRep<User, int> { }
}

===== FILE: App\Object\Base\Users\UserStatusService.cs =====
using System.Collections.Concurrent;
using System.IO;
using System.Text.Json;
using System.Threading.Tasks;
using Domain.Objects.Base;

namespace App.Object.Base.Users
{
    public class UserStatusService
    {
        private readonly ConcurrentDictionary<int, (UserStatus Status, DateTime? LastSeen)> _userStatuses = new();
        private readonly string _statusFilePath = Path.Combine(Directory.GetCurrentDirectory(), "user-status.json");

        public UserStatusService()
        {
            LoadFromFile();  // Ù„ÙˆØ¯ Ù…ÙˆÙ‚Ø¹ startup
        }

        public void UpdateStatus(int userId, UserStatus status, DateTime? lastSeen = null)
        {
            _userStatuses[userId] = (status, lastSeen ?? DateTime.Now);
            SaveToFile();  // Ù‡Ø± Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø³ÛŒÙˆ Ú©Ù† (Ø¨Ø±Ø§ÛŒ ØªØºÛŒÛŒØ±Ø§Øª Ø²ÛŒØ§Ø¯, Ø´Ø§ÛŒØ¯ debounce Ú©Ù† Ø§Ù…Ø§ Ø³Ø§Ø¯Ù‡)
        }

        public (UserStatus, DateTime?) GetStatus(int userId)
        {
            return _userStatuses.TryGetValue(userId, out var status) ? status : (UserStatus.Offline, null);
        }

        public void CheckInactive()  // periodical call Ù…Ø«Ù„Ø§Ù‹ Ø¨Ø§ timer
        {
            var now = DateTime.Now;
            foreach (var kvp in _userStatuses)
            {
                if (kvp.Value.LastSeen.HasValue && (now - kvp.Value.LastSeen.Value).TotalMinutes > 5 && kvp.Value.Status == UserStatus.Online)
                {
                    UpdateStatus(kvp.Key, UserStatus.Inactive, kvp.Value.LastSeen);
                }
            }
        }

        private void LoadFromFile()
        {
            if (File.Exists(_statusFilePath))
            {
                var json = File.ReadAllText(_statusFilePath);
                var data = JsonSerializer.Deserialize<Dictionary<int, (UserStatus, DateTime?)>>(json);
                if (data != null)
                    foreach (var kvp in data) _userStatuses[kvp.Key] = kvp.Value;
            }
        }

        private void SaveToFile()
        {
            var json = JsonSerializer.Serialize(_userStatuses.ToDictionary(kvp => kvp.Key, kvp => kvp.Value));
            File.WriteAllText(_statusFilePath, json);
        }
    }
}

===== FILE: App\Object\Base\IPersonRep.cs =====
using Domain.Objects.Base;

namespace App.Object.Base
{
    public interface IPersonRep : IBaseRep<Person, int>
    {

    }
}


===== FILE: App\Object\Base\PersonApp.cs =====
using App.Contracts.Object.Base;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace App.Object.Base
{
    public class PersonApp : IPersonApp
    {
        private readonly IPersonRep _ctx;
        public PersonApp(IPersonRep personRep)
        {
            _ctx = personRep;
        }
        public async Task<List<PersonView>> personViews()
        {
            var persons = await _ctx.GetAsync();

            return  persons.Select(c => new PersonView
            {
                Id = c.Id,
                Name = c.Name,
                Family = c.Family,
                age = c.Age,

            }).ToList();

        }

        public Task<List<PersonView>> PersonViews()
        {
            throw new NotImplementedException();
        }
    }
}


===== FILE: App\Object\Shop\CountTypeApp\ContTypeApp.cs =====
// ÙØ§ÛŒÙ„: App/Object/Shop/CountTypeApp/CountTypeApp.cs
using App.Contracts.Object.Shop.CountTypeCon;
using App.utility;
using AutoMapper;
using Domain.Objects.Shop;
using MyFrameWork.AppTool;
using System;
using System.Collections.Generic;
using System.Threading.Tasks;

namespace App.Object.Shop.CountTypeApp
{
    public class CountTypeApp : ICountTypeApp
    {
        private readonly ICountTypeRep _rep;
        private readonly IMapper _mapper;

        public CountTypeApp(ICountTypeRep rep, IMapper mapper)
        {
            _rep = rep;
            _mapper = mapper;
        }






        // Ù…ØªØ¯ Ø¯Ø±ÛŒØ§ÙØª Ù‡Ù…Ù‡ ÙˆØ§Ø­Ø¯Ù‡Ø§ÛŒ Ø´Ù…Ø§Ø±Ø´ Ø¨Ø§ ØµÙØ­Ù‡â€ŒØ¨Ù†Ø¯ÛŒ
        public async Task<OPTResult<CountTypeView>> GetAll(Pagination pagination)
        {
            
            var entities = await _rep.GetAsync(pagination);
            var viewModels = _mapper.Map<List<CountTypeView>>(entities);
            var totalRecords = await _rep.CountAsync();

            return new OPTResult<CountTypeView>
            {
                IsSucceeded = true,
                Message = MessageApp.AcceptOpt,
                Data = viewModels,
                PageNumber = pagination.PageNumber,
                PageSize = pagination.PageSize,
                TotalRecords = totalRecords,
                TotalPages = pagination.CalculateTotalPages(totalRecords)
            };
        }




        // Ù…ØªØ¯ Ø¯Ø±ÛŒØ§ÙØª ÛŒÚ© ÙˆØ§Ø­Ø¯ Ø´Ù…Ø§Ø±Ø´ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø´Ù†Ø§Ø³Ù‡
        public async Task<OPTResult<CountTypeView>> GetById(int id)
        {
            var entity = await _rep.GetAsync(id);
            if (entity == null)
                return OPTResult<CountTypeView>.Failed(MessageApp.NotFound);

            var viewModel = _mapper.Map<CountTypeView>(entity);
            return OPTResult<CountTypeView>.Success(viewModel,MessageApp.AcceptOpt);
        }




        // Ù…ØªØ¯ Ø§ÛŒØ¬Ø§Ø¯ ÙˆØ§Ø­Ø¯ Ø´Ù…Ø§Ø±Ø´ Ø¬Ø¯ÛŒØ¯
        public async Task<OPTResult<CountTypeView>> Create(CountTypeCreate countTypeCreate)
        {
            var entity = _mapper.Map<CountType>(countTypeCreate);
            await _rep.CreateAsync(entity);
            await _rep.SaveChangesAsync();

            var viewModel = _mapper.Map<CountTypeView>(entity);
            return OPTResult<CountTypeView>.Success(viewModel, MessageApp.AcceptOpt);
        }





        // Ù…ØªØ¯ Ø­Ø°Ù ÙˆØ§Ø­Ø¯ Ø´Ù…Ø§Ø±Ø´ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù„ÛŒØ³Øª Ø´Ù†Ø§Ø³Ù‡â€ŒÙ‡Ø§

        public async Task<OPTResult<CountTypeView>> DeleteBy(List<int> ids)
        {
            var entities = await _rep.GetByIdsAsync(ids);
            if (entities == null || entities.Count == 0)
                return OPTResult<CountTypeView>.Failed(MessageApp.NotFound);

            var deletableEntities = new List<CountType>();
            var usedEntities = new List<CountType>();

            foreach (var entity in entities)
            {
                var isUsed = await _rep.HasRelationsAsync(entity); // âœ… Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¯Ø± Ø¬Ø¯Ø§ÙˆÙ„ Ø±Ø§Ø¨Ø·Ù‡â€ŒØ§ÛŒ
                if (!isUsed)
                    deletableEntities.Add(entity);
                else
                    usedEntities.Add(entity);
            }

            if (deletableEntities.Any())
            {
                _rep.DeleteRange(deletableEntities);
                await _rep.SaveChangesAsync();
            }

            string message = "";
            if (deletableEntities.Count > 0)
                message += $"{deletableEntities.Count} ÙˆØ§Ø­Ø¯ Ø´Ù…Ø§Ø±Ø´ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯. ";
            if (usedEntities.Count > 0)
                message += $"{usedEntities.Count} Ù…ÙˆØ±Ø¯ Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¯Ø± Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø± Ø­Ø°Ù Ù†Ø´Ø¯.";

            return OPTResult<CountTypeView>.Success(message.Trim());
        }




        // Ù…ØªØ¯ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙˆØ§Ø­Ø¯ Ø´Ù…Ø§Ø±Ø´ (Ø¯Ø± ØµÙˆØ±Øª Ù†ÛŒØ§Ø²)
        public async Task<OPTResult<CountTypeView>> Update(CountTypeView countTypeView)
        {
            var validateAllProperties = ModelValidator.ValidateToOptResult<CountTypeView>(countTypeView);
            if (!validateAllProperties.IsSucceeded) return validateAllProperties;


            var entity = await _rep.GetAsync(countTypeView.Id);
            if (entity == null)
                return OPTResult<CountTypeView>.Failed(MessageApp.NotFound);
            _mapper.Map(countTypeView, entity);
            await _rep.UpdateAsync(entity);
            await _rep.SaveChangesAsync();
            var viewModel = _mapper.Map<CountTypeView>(entity);
            return OPTResult<CountTypeView>.Success(viewModel, MessageApp.AcceptOpt);
        }
    }

    // Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ø±ÛŒÙ¾ÙˆØ²ÛŒØªÙˆØ±ÛŒ ÙˆØ§Ø­Ø¯ Ø´Ù…Ø§Ø±Ø´ Ú©Ù‡ Ø§Ø² Ø±ÛŒÙ¾ÙˆØ²ÛŒØªÙˆØ±ÛŒ Ù¾Ø§ÛŒÙ‡ Ø§Ø±Ø«â€ŒØ¨Ø±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
    public interface ICountTypeRep : IBaseRep<CountType, int> { }



}

===== FILE: App\Object\Shop\invApp\InvApp.cs =====
using App.Contracts.Object.Shop.InvCon;
using App.utility;
using AutoMapper;
using Domain.Objects.Shop;
using MyFrameWork.AppTool;

namespace App.Object.Shop.invApp
{
    public class InvApp : IInvApp
    {

        private readonly IInvRep _rep;
        private readonly IMapper _mapper;
        public InvApp(IInvRep rep, IMapper mapper)
        {
            _rep = rep;
            _mapper = mapper;
        }
        



        public async Task<OPTResult<InvCreate>> Create(InvCreate createData)
        {
            var validateAllProperties =  ModelValidator.ValidateToOptResult<InvCreate>(createData);
            if (!validateAllProperties.IsSucceeded) return validateAllProperties;

            var entity = _mapper.Map<Inv>(createData);
            await _rep.CreateAsync(entity);
            await _rep.SaveChangesAsync();

            var viewModel = _mapper.Map<InvCreate>(entity);
            return OPTResult<InvCreate>.Success(viewModel, MessageApp.AcceptOpt);

        }




        public async Task<OPTResult<InvView>> DeleteBy(List<int> ids)
        {
            var entities = await _rep.GetByIdsAsync(ids);
            if (entities == null || entities.Count == 0)
                return OPTResult<InvView>.Failed(MessageApp.NotFound);

            var deletableEntities = new List<Inv>();
            var usedEntities = new List<Inv>();

            foreach (var entity in entities)
            {
                var isUsed = await _rep.HasRelationsAsync(entity); 
                if (!isUsed)
                    deletableEntities.Add(entity);
                else
                    usedEntities.Add(entity);
            }

            if (deletableEntities.Any())
            {
                _rep.DeleteRange(deletableEntities);
                await _rep.SaveChangesAsync();
            }

            string message = "";
            if (deletableEntities.Count > 0)
                message += $"{deletableEntities.Count} Ø±Ú©ÙˆØ±Ø¯ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯. ";
            if (usedEntities.Count > 0)
                message += $"{usedEntities.Count} Ù…ÙˆØ±Ø¯ Ø¨Ù‡ Ø¯Ù„ÛŒÙ„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¯Ø± Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø± Ø­Ø°Ù Ù†Ø´Ø¯.";

            return OPTResult<InvView>.Success(message.Trim());
        }






        public async Task<ApiResult> GetAll(Pagination pagination)
        {
            var entities = await _rep.GetAsync(pagination);
            var viewModels = _mapper.Map<List<InvView>>(entities);
            var totalRecords = await _rep.CountAsync();
/// need change
            return ApiResult.Success(

    );
        }






        public async Task<OPTResult<InvUpdate>> GetById(int id)
        {
            var entity = await _rep.GetAsync(id);
            if (entity == null)
                return OPTResult<InvUpdate>.Failed(MessageApp.FailOpt);

            var viewModel = _mapper.Map<InvUpdate>(entity);
            return OPTResult<InvUpdate>.Success(viewModel, MessageApp.AcceptOpt);
        }







        public async Task<OPTResult<InvUpdate>> Update(InvUpdate updateData)
        {
            var entity = await _rep.GetAsync(updateData.Id);
            if (entity == null)
                return OPTResult<InvUpdate>.Failed(MessageApp.NotFound);
            _mapper.Map(updateData, entity);
            await _rep.UpdateAsync(entity);
            await _rep.SaveChangesAsync();
            var viewModel = _mapper.Map<InvUpdate>(entity);
            return OPTResult<InvUpdate>.Success(viewModel,MessageApp.AcceptOpt);
        }
    }


 



    public interface IInvRep : IBaseRep<Inv, int> { }



}

===== FILE: App\Object\Shop\ProductApp\ProductApp.cs =====
using App.Contracts.Object.Base.auth;
using App.Contracts.Object.Base.auth.UserContext;
using App.Contracts.Object.Shop.ProductCon;
using App.utility;
using AutoMapper;
using Domain.Objects.Shop;
using MyFrameWork.AppTool;
using System.Linq.Expressions;



namespace App.Object.Shop.ProductApp
{
    public class ProductApp : IProductApp
    {
        #region constructor
        private readonly IProductRep _productRep;
        private readonly IMapper _mapper;
        private readonly IPermissionService _PermissionService;
        private readonly IUserContext _userContext;

        public ProductApp(IProductRep productRep, IMapper mapper , IPermissionService permissionService , IUserContext userContext)
        {
            _productRep = productRep;
            this._mapper = mapper;
            _PermissionService = permissionService ;
            _userContext = userContext;
        }
        #endregion



        //Create method 
        public async Task<OPT> Create(ProductCreate productCreate)
        {


                var validationOpt = ModelValidator.ValidateToOpt(productCreate);
                if (!validationOpt.IsSucceeded) return validationOpt;


            var opt = new OPT();


            // اعتبارسنجی تکراری بودن کد محصول
            var uniqueOpt = await ValidationUtility.ValidateUniqueAsync<Product, int>(
                _productRep,
                c => c.ProductCode == productCreate.ProductCode,
                
                MessageApp.DuplicateField(productCreate.ProductCode)
            );
            if (!uniqueOpt.IsSucceeded) return uniqueOpt;

            // عملیات ایجاد محصول
            var product = _mapper.Map<Product>(productCreate);
            await _productRep.CreateAsync(product);
            await _productRep.SaveChangesAsync();

            return opt.Succeeded(MessageApp.CustomAddsuccses(productCreate.Name));
        }





        public async Task<OPT> DeleteBy(List<int> productids)
        {
            var opt = new OPT();
            try
            {
                if (productids == null || !productids.Any())
                {
                    opt.Failed(MessageApp.NotFound);
                    return opt;
                }
                foreach (var productid in productids)
                    _productRep.DeleteById(productid);

                await _productRep.SaveChangesAsync();
                 opt.Succeeded(MessageApp.CustomSuccess("حذف"));
            }
            catch (Exception ex)
            {
                 opt.Failed(MessageApp.CustomDeleteFail(ex.Message));
            }

            return opt ;
        }




        public async Task<OPTResult<ProductView>> GetAll(Pagination pagination)
        {  

        
            
              // دریافت تمام محصولات  
            var products = await _productRep.GetAsync(pagination);

            // تبدیل داده‌ها به نوع ViewModel  
            var data = _mapper.Map<List<ProductView>>(products);

            // تعداد کل رکوردها  
            var totalRecords = await _productRep.CountAsync();



            // تعداد کل صفحات  
            var totalPages = pagination.CalculateTotalPages(totalRecords);

            // آماده‌سازی و بازگشت نتیجه  
            return new OPTResult<ProductView>
            {
                IsSucceeded = true,
                Message = MessageApp.AcceptOpt,
                Data = data,
                TotalRecords = totalRecords,
                TotalPages = totalPages,
                PageNumber = pagination.PageNumber,
                PageSize = pagination.PageSize
            };

        }





        public async Task<OPTResult<ProductView>> SearchProducts(ProductSearchCriteria criteria)
        {
            // تعریف اولیه فیلتر جستجو
            Expression<Func<Product, bool>> filter = product => true;

            if (!string.IsNullOrEmpty(criteria.Name))
            {
                filter = filter.And(product => product.Name.Contains(criteria.Name));
            }

            if (criteria.MinPrice.HasValue && criteria.MinPrice > 0)
            {
                filter = filter.And(product => product.Price >= criteria.MinPrice.Value);
            }

            if (criteria.MaxPrice.HasValue && criteria.MaxPrice > 0)
            {
                filter = filter.And(product => product.Price <= criteria.MaxPrice.Value);
            }

            // گرفتن داده‌ها از ریپازیتوری بر اساس فیلتر و اطلاعات صفحه‌بندی
            var products = await _productRep.GetFilteredAsync(filter, criteria);

            // نگاشت به لیست ViewModel
            var data = _mapper.Map<List<ProductView>>(products);

            // گرفتن تعداد کل رکوردها برای صفحه‌بندی
            var totalRecords = await _productRep.CountAsync(filter);
            var totalPages = criteria.CalculateTotalPages(totalRecords);

            return new OPTResult<ProductView>
            {
                IsSucceeded = true,
                Message = MessageApp.AcceptOpt,
                Data = data,
                TotalRecords = totalRecords,
                TotalPages = totalPages,
                PageNumber = criteria.PageNumber,
                PageSize = criteria.PageSize
            };
        }











        public async Task<OPTResult<ProductUpdate>> GetById(int id)
        {
            var product = await _productRep.GetAsync(id);
            if (product == null) { return new OPTResult<ProductUpdate> { IsSucceeded = false, Message =MessageApp.NotFound}; }
            var productupdate = _mapper.Map<ProductUpdate>(product);
            return OPTResult<ProductUpdate>.Success(productupdate, MessageApp.AcceptOpt);
        }





        public async Task<OPTResult<ProductView>> Update(ProductView productView)
        {

            var validationOpt = ModelValidator.ValidateToOptResult(productView);
            if (!validationOpt.IsSucceeded) return validationOpt;

            var product = await _productRep.GetAsync(productView.Id);
            if (product == null) { return new OPTResult<ProductView> { IsSucceeded = false, Message = MessageApp.FailOpt }; }
            var codeExist = await _productRep.ExistAsync(c => c.ProductCode == productView.ProductCode && c.Id != productView.Id);
            if (codeExist) { return new OPTResult<ProductView> { IsSucceeded = false, Message = MessageApp.DuplicateField(productView.ProductCode) }; }
            else
            {
                product.Name = productView.Name;
                product.Price = productView.Price;
                product.ProductCode = productView.ProductCode;
                await _productRep.UpdateAsync(product);
                await _productRep.SaveChangesAsync();
                return OPTResult<ProductView>.Success(_mapper.Map<ProductView>(product));
            }
        }


    }





    public interface IProductRep : IBaseRep<Product, int> { }
}


===== FILE: App\utility\ClassMapping.cs =====
// فایل: App/ClassMapping.cs
using App.Contracts.Object.Base.Users;
using App.Contracts.Object.Shop.CountTypeCon;
using App.Contracts.Object.Shop.InvCon;
using App.Contracts.Object.Shop.ProductCon;
using AutoMapper;
using Domain.Objects.Base;
using Domain.Objects.Shop;

namespace App.utility
{
    // این کلاس برای نگاشت (Map) بین مدل‌های دامنه (Entity) و مدل‌های انتقال داده (DTO) استفاده می‌شود
    public class ClassMapping : Profile
    {
        public ClassMapping()
        {
            // نگاشت از مدل دامنه Product به مدل نمایشی ProductView
            CreateMap<Product, ProductView>();

            // نگاشت از مدل ساخت ProductCreate به مدل دامنه Product
            CreateMap<ProductCreate, Product>()
                // ویژگی Id را نادیده می‌گیریم چون در زمان ایجاد توسط دیتابیس مقداردهی می‌شود
                .ForMember(p => p.Id, o => o.Ignore());
            CreateMap<Product, ProductUpdate>();

            // نگاشت از مدل دامنه CountType به مدل نمایشی CountTypeViw
            CreateMap<CountType, CountTypeView>();


            // نگاشت از مدل دامنه CountType به مدل ساخت CountTypeView
            CreateMap<CountTypeView, CountType>();


            // نگاشت از مدل ساخت CountTypeCreate به مدل دامنه CountType
            CreateMap<CountTypeCreate, CountType>()
                // ویژگی Id باید در ساخت جدید مقدار نداشته باشد چون توسط دیتابیس مقداردهی می‌شود
                .ForMember(p => p.Id, o => o.Ignore());


        // مپینگ برای UsersView (برای GetAll) - بدون RoleIds
            CreateMap<User, UsersView>(); // نادیده گرفتن RoleIds

            // مپینگ برای UsersUpdate (برای GetById) - شامل RoleIds
            CreateMap<User, UsersUpdate>()
                .ForMember(dest => dest.RoleIds, opt => opt.MapFrom(src => src.UserRoles.Select(ur => ur.RoleId).ToList()))
                .ForMember(dest => dest.Password, opt => opt.Ignore()); // رمز عبور در پاسخ ارسال نشود

            // مپینگ برای UsersCreat به User
            CreateMap<UsersCreat, User>()
                .ForMember(dest => dest.Id, opt => opt.Ignore())
                .ForMember(dest => dest.PasswordHash, opt => opt.MapFrom(src =>
                    string.IsNullOrEmpty(src.Password) ? null : BCrypt.Net.BCrypt.HashPassword(src.Password)))
                .ForMember(dest => dest.UserRoles, opt => opt.MapFrom(src => src.RoleIds.Select(roleId => new UserRole { RoleId = roleId }).ToList()));

            // مپینگ برای UsersUpdate به User
            CreateMap<UsersUpdate, User>()
                .ForMember(dest => dest.Id, opt => opt.Ignore())
                .ForMember(dest => dest.PasswordHash, opt => opt.MapFrom(src =>
                    string.IsNullOrEmpty(src.Password) ? null : BCrypt.Net.BCrypt.HashPassword(src.Password)))
                .ForMember(dest => dest.UserRoles, opt => opt.MapFrom(src => src.RoleIds.Select(roleId => new UserRole { RoleId = roleId }).ToList()));

            // مپینگ معکوس (اختیاری، در صورت نیاز)
            CreateMap<User, UsersCreat>()
                .ForMember(dest => dest.RoleIds, opt => opt.MapFrom(src => src.UserRoles.Select(ur => ur.RoleId).ToList()));



            CreateMap<Inv , InvView>();


        }
    }
}


===== FILE: App\utility\IFileService.cs =====
using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using Microsoft.AspNetCore.Http;

namespace App.utility
{
    public interface IFileService
    {
        Task<string?> UploadProfilePictureAsync(IFormFile? file, string? oldPath = null);
    }
}

===== FILE: App\utility\ModelValidator.cs =====
using System;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations;
using System.Linq;
using System.Threading.Tasks;
using MyFrameWork.AppTool;

namespace App.utility
{
 public static class ModelValidator
    {
        public static OPT ValidateToOpt<T>(T model)
        {
            var context = new ValidationContext(model, serviceProvider: null, items: null);
            var results = new List<ValidationResult>();

            Validator.TryValidateObject(model, context, results, validateAllProperties: true);

            if (results.Any())
            {
                return new OPT
                {
                    IsSucceeded = false,
                    Message = string.Join(" | ", results.Select(r => r.ErrorMessage))
                };
            }

            return new OPT { IsSucceeded = true }; // Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ø¯ÙˆÙ† Ø®Ø·Ø§
        }

        public static OPTResult<T> ValidateToOptResult<T>(T model) where T : class
        {
            var context = new ValidationContext(model, serviceProvider: null, items: null);
            var results = new List<ValidationResult>();

            Validator.TryValidateObject(model, context, results, validateAllProperties: true);

            if (results.Any())
            {
                return new OPTResult<T>
                {
                    IsSucceeded = false,
                    Message = string.Join(" | ", results.Select(r => r.ErrorMessage)),
                    Data = default
                };
            }

            return new OPTResult<T>
            {
                IsSucceeded = true,
               
               
            };
        }
    }
}

===== FILE: App\utility\ValidationUtility.cs =====
using System;
using System.Collections.Generic;
using System.Linq;
using System.Linq.Expressions;
using System.Threading.Tasks;
using MyFrameWork.AppTool;

namespace App.utility
{
    public static class ValidationUtility
{

     private static readonly OPT opt = new OPT();


    public static OPT ValidateNotEmpty(string value, string fieldName)
    {
        if (string.IsNullOrWhiteSpace(value))
            return opt.Failed($"{fieldName} Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯.");
        return opt.Succeeded();
    }

    public static OPT ValidateLength(string value, string fieldName, int minLength, int maxLength)
    {
        if (value.Length < minLength || value.Length > maxLength)
            return opt.Failed($"{fieldName} Ø¨Ø§ÛŒØ¯ Ø¨ÛŒÙ† {minLength} ØªØ§ {maxLength} Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯.");
        return opt.Succeeded();
    }

    public static OPT ValidateRange(decimal value, string fieldName, decimal minValue, decimal maxValue)
    {
        if (value < minValue || value > maxValue)
            return opt.Failed($"{fieldName} Ø¨Ø§ÛŒØ¯ Ø¨ÛŒÙ† {minValue} ØªØ§ {maxValue} Ø¨Ø§Ø´Ø¯.");
        return opt.Succeeded();
    }

   public static async Task<OPT> ValidateUniqueAsync<T, TKey>(
    IBaseRep<T, TKey> repository, 
    Expression<Func<T, bool>> predicate, 
    string errorMessage)
    where T : Domain.Objects.BaseDomain
{
    var exists = await repository.ExistAsync(predicate);
    if (exists)
        return opt.Failed(errorMessage);
    return opt.Succeeded();
}
}
}

===== FILE: App\IBaseRep.cs =====
using App.Contracts.Object.Shop.ProductCon;
using Domain.Objects;
using MyFrameWork.AppTool;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Linq.Expressions;
using System.Text;
using System.Threading.Tasks;

namespace App
{
    public interface IBaseRep<T, TKey> : IDisposable where T : BaseDomain
    {
        Task<T> GetAsync(TKey id);
        T Get(TKey id);
        Task<List<T>>  GetFilteredAsync(Expression<Func<T, bool>> filter = null , ProductSearchCriteria criteria = null);
        Task<List<T>> GetAsync();
        Task<List<T>> GetAsync(Pagination pagination );
        Task CreateAsync(T entity);
        void Delete(T entity);
        void DeleteById(TKey id);
        Task<int> CountAsync();
        Task<int> CountAsync(Expression<Func<T , bool>> filter);
        Task<bool> ExistAsync(Expression<Func<T, bool>> expression  );
        Task<bool> UpdateAsync(T entity);
        Task SaveChangesAsync();
        Task<List<T>> GetByIdsAsync(List<TKey> ids);
        public void DeleteRange(List<T> entities);
        public Task<bool> HasRelationsAsync(T entity);
    }
}


===== FILE: App.Contracts\Attributes\MinCountAttribute.cs =====
// App.Contracts/Attributes/MinCountAttribute.cs
using System;
using System.Collections;
using System.ComponentModel.DataAnnotations;

namespace App.Contracts.Attributes
{
    [AttributeUsage(AttributeTargets.Property, AllowMultiple = false)]
    public class MinCountAttribute : ValidationAttribute
    {
        private readonly int _minCount;

        public MinCountAttribute(int minCount)
        {
            _minCount = minCount;
            ErrorMessage = $"Ø­Ø¯Ø§Ù‚Ù„ {{0}} Ù…ÙˆØ±Ø¯ Ø¨Ø§ÛŒØ¯ Ø§Ù†ØªØ®Ø§Ø¨ Ø´ÙˆØ¯.";
        }

        protected override ValidationResult? IsValid(object? value, ValidationContext validationContext)
        {
            if (value == null)
                return new ValidationResult(FormatErrorMessage(validationContext.DisplayName));

            if (value is IList list)
            {
                if (list.Count < _minCount)
                    return new ValidationResult(FormatErrorMessage(validationContext.DisplayName));
            }
            else
            {
                return new ValidationResult("Ø§ÛŒÙ† ÙÛŒÙ„Ø¯ Ø¨Ø§ÛŒØ¯ ÛŒÚ© Ù„ÛŒØ³Øª Ø¨Ø§Ø´Ø¯.");
            }

            return ValidationResult.Success;
        }

        public override string FormatErrorMessage(string name)
        {
            return string.Format(ErrorMessageString, _minCount);
        }
    }
}

===== FILE: App.Contracts\Object\Base\auth\UserContext\IUserContext.cs =====
using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;

namespace App.Contracts.Object.Base.auth.UserContext
{
    public interface IUserContext
    {
        int? GetUserId();
        bool IsAuthenticated();
        // Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ù…ØªØ¯Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ù‡â€ŒØ§ÛŒ Ù…Ø«Ù„ GetUserRoles ÛŒØ§ GetClaim Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒ
    }
}

===== FILE: App.Contracts\Object\Base\auth\AuthResponseDto.cs =====
using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using Domain.Objects.Base;
using MyFrameWork.AppTool;

namespace App.Contracts.Object.Base.auth
{
    public class AuthResponseDto
    {
        public int UserId { get; set; } = default! ;
        public string Token { get; set; } = default!;
        public string Email { get; set; } = default!;
        public string FullName { get; set; } = default!;
        
    }

     public class LoginRequestDto
    {
        public string Email { get; set; } = default!;
        public string Password { get; set; } = default!;
    }

        public class RegisterRequestDto
    {
        public string FullName { get; set; } = default!;
        public string Email { get; set; } = default!;
        public string Password { get; set; } = default!;
    }

      public interface IAuthApp
    {
         Task<OPTResult<AuthResponseDto>>  RegisterAsync(RegisterRequestDto dto);
        Task<OPTResult<AuthResponseDto>> LoginAsync(LoginRequestDto dto);
        
    }

     public interface ITokenApp
    {
        string GenerateToken(User user);
    }
}

===== FILE: App.Contracts\Object\Base\auth\IPermissionService.cs =====
using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;

namespace App.Contracts.Object.Base.auth
{
    public interface IPermissionService
    {
        Task<bool> HasPermissionAsync(int userId, string permission);
    }
}

===== FILE: App.Contracts\Object\Base\Users\IUsersApp.cs =====
using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using MyFrameWork.AppTool;

namespace App.Contracts.Object.Base.Users
{
public interface IUsersApp
    {
        Task<ApiResult> GetAll(Pagination pagination);
        Task<ApiResult> Create(UsersCreat objectCreate);
        Task<ApiResult> DeleteBy(List<int> objectids);
        Task<ApiResult> GetById(int id);
        Task<ApiResult> Update(UsersUpdate objectView);
        Task<ApiResult> CreateForm();
        Task<ApiResult> KeepAlive(int userId);
    }
}

===== FILE: App.Contracts\Object\Base\Users\UsersDto.cs =====
// App.Contracts/Object/Base/Users/UsersDto.cs
using System;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations;
using Microsoft.AspNetCore.Http;
using Domain.Objects.Base;
using App.Contracts.Attributes; // Ø¨Ø±Ø§ÛŒ MinCount

namespace App.Contracts.Object.Base.Users
{
    public class UsersView
    {
        public int Id { get; set; }
        public string FullName { get; set; } = default!;
        public string? ProfilePictureUrl { get; set; }
        public UserStatus Status { get; set; }
        public DateTime? LastSeen { get; set; }
        public string Username { get; set; } = default!;
        public string Email { get; set; } = default!;
    }

    public class UsersCreat
    {
        [Required(ErrorMessage = "Ù†Ø§Ù… Ú©Ø§Ù…Ù„ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.")]
        [MaxLength(100, ErrorMessage = "Ù†Ø§Ù… Ú©Ø§Ù…Ù„ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨ÛŒØ´ Ø§Ø² 100 Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯.")]
        public string FullName { get; set; } = default!;

        [Required(ErrorMessage = "Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.")]
        [MaxLength(50, ErrorMessage = "Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨ÛŒØ´ Ø§Ø² 50 Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯.")]
        public string Username { get; set; } = default!;

        [Required(ErrorMessage = "Ø§ÛŒÙ…ÛŒÙ„ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.")]
        [EmailAddress(ErrorMessage = "Ø§ÛŒÙ…ÛŒÙ„ Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³Øª.")]
        public string Email { get; set; } = default!;

        [Required(ErrorMessage = "Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.")]
        [MinLength(6, ErrorMessage = "Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ 6 Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯.")]
        public string Password { get; set; } = default!;

        public IFormFile? ProfilePicture { get; set; }

        [Required(ErrorMessage = "Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ù†Ù‚Ø´ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.")]
        [MinCount(1, ErrorMessage = "Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ù†Ù‚Ø´ Ø¨Ø§ÛŒØ¯ Ø§Ù†ØªØ®Ø§Ø¨ Ø´ÙˆØ¯.")]
        public List<int> RoleIds { get; set; } = new();
    }

    public class UsersUpdate
    {
        [Required]
        public int Id { get; set; }

        [Required(ErrorMessage = "Ù†Ø§Ù… Ú©Ø§Ù…Ù„ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.")]
        [MaxLength(100)]
        public string FullName { get; set; } = default!;

        [Required(ErrorMessage = "Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.")]
        [MaxLength(50)]
        public string Username { get; set; } = default!;

        [Required(ErrorMessage = "Ø§ÛŒÙ…ÛŒÙ„ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª.")]
        [EmailAddress]
        public string Email { get; set; } = default!;

        [MinLength(6, ErrorMessage = "Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ 6 Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯.")]
        public string? Password { get; set; }

        public IFormFile? ProfilePicture { get; set; }

        [MinCount(1, ErrorMessage = "Ø­Ø¯Ø§Ù‚Ù„ ÛŒÚ© Ù†Ù‚Ø´ Ø¨Ø§ÛŒØ¯ Ø§Ù†ØªØ®Ø§Ø¨ Ø´ÙˆØ¯.")]
        public List<int> RoleIds { get; set; } = new();
    }

    public class UserCreateFormData
    {
        public List<RoleView> Roles { get; set; } = new();
    }

    public class RoleView
    {
        public int Id { get; set; }
        public string Name { get; set; } = default!;
    }
}

===== FILE: App.Contracts\Object\Base\IPersonApp.cs =====
namespace App.Contracts.Object.Base
{
    public interface IPersonApp
    {
        Task<List<PersonView>> PersonViews();
    }
}


===== FILE: App.Contracts\Object\Base\PersonView.cs =====
using System;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace App.Contracts.Object.Base
{
    public class PersonView
    {
        [Required]
        public int Id { get; set; }

        [Required]
        [StringLength(3)]
        public string Name { get; set; }

        [Required]
        [StringLength(3)]
        public string Family { get; set; }

        [Required]
        public int age { get; set; }
    }
}


===== FILE: App.Contracts\Object\Shop\CountTypeCon\CountTypeView.cs =====
using MyFrameWork.AppTool;
using System;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations;
using System.Linq;
using System.Text;
using System.Text.Json.Nodes;
using System.Threading.Tasks;

namespace App.Contracts.Object.Shop.CountTypeCon
{
    public class CountTypeView
    {
        [Display(Name = " Ø´Ù†Ø§Ø³Ù‡")]
        public int Id { get; set; }
    
        [Display(Name = " Ù†Ø§Ù… ÙˆØ§Ø­Ø¯ Ø´Ù…Ø§Ø±Ø´")]
        public string Name { get; set; } = "";
        

    }
    public class CountTypeCreate 
    {

        
    
        [Display(Name = " Ù†Ø§Ù… ÙˆØ§Ø­Ø¯ Ø´Ù…Ø§Ø±Ø´")]
        [Required(ErrorMessage = MessageApp.IsRequiredcustom)]
        [MaxLength(20,ErrorMessage = MessageApp.MaxLengthcustom)]
        [RegularExpression(@"^[\u0600-\u06FF\s]+$", ErrorMessage = "ÙÙ‚Ø· Ø§Ø² Ø­Ø±ÙˆÙ ÙØ§Ø±Ø³ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯")]
        [DataType(DataType.Text)]
        public string Name { get; set; } = "";
       
       

    }
    
   

}


